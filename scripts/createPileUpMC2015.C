// ----------------------------------------------------------------------------------------------------------------
// Short dirty script to create pileup histo for MC
// Uses info from /SimGeneral/MixingModule/python/mix_2015_25ns_FallMC_matchData_PoissonOOTPU_cfi.py
// ADM
// ----------------------------------------------------------------------------------------------------------------

#include "TROOT.h"
#include "TH1D.h"
#include "TFile.h"
#include "TTree.h"
#include "TMath.h"

using namespace std;

void createPileUpMC() {

  TH1D* pileup   = new TH1D("pileup", "pileup", 50,  0., 50.0);

  double y [50] =
		{0.000108643,
               	0.000388957,
                0.000332882,
                0.00038397,
                0.000549167,
                0.00105412,
                0.00459007,
                0.0210314,
                0.0573688,
                0.103986,
                0.142369,
                0.157729,
                0.147685,
                0.121027,
                0.08855,
                0.0582866,
                0.0348526,
                0.019457,
                0.0107907,
                0.00654313,
                0.00463195,
                0.00370927,
                0.0031137,
                0.00261141,
                0.00215499,
                0.00174491,
                0.00138268,
                0.00106731,
                0.000798828,
                0.00057785,
                0.00040336,
                0.00027161,
                0.000176535,
                0.00011092,
                6.75502e-05,
                4.00323e-05,
                2.32123e-05,
                1.32585e-05,
                7.51611e-06,
                4.25902e-06,
                2.42513e-06,
                1.39077e-06,
                8.02452e-07,
                4.64159e-07,
                2.67845e-07,
                1.5344e-07,
                8.68966e-08,
                4.84931e-08,
                2.6606e-08,
                1.433e-08 };

  for ( int x = 0; x < 50; x++ )
  {
    pileup->Fill ( x, y[x] );
  }

  TFile* outFile = new TFile("pileup/pileupMC.root","recreate");

  pileup->Draw();
  pileup->Write();
  outFile->Close();

}
